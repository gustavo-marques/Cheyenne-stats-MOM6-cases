This is a demonstration of a possible repository structure for managing MOM6 regression answers.

### Basics (rules)
1. This repository contains NCAR's regression answers for Cheyenne only. Other platforms should have their own repository.
2. This repository need not be visible to anyone who does not have access to the same platform (i.e. it could be private).
3. Commits are only made when the regression answers change.
4. MOM6-cases is a sub-module of this repository. When regression answers change the new commit of the sub-module must be added with the changed answers.
5. Regression answers have a suffix which is a label usually referring to a compiler name. These labels are listed in _labels.json_.

### Workflow for when regression answers change
1. Copy regression answers generated by MOM6 into the corresponding directory under regressions.
2. Stage any changed regressions and also add the MOM6-cases sub-module commit.
3. Commit.
4. Push (if sharing with other developers)

For example:
```bash
# Copy files
foreach compiler (gnu intel pgi)
  foreach file (`cd MOM6-cases ; find * -name ocean.stats.$compiler -o -name seaice.stats.$compiler`)
    mkdir -p regressions/$file:h
    \cp MOM6-cases/$file regressions/$file
  end
end

git add regressions
git add MOM6-cases
git commit
```

### Comments
1. Ideally, MOM6 would write the regression answers directly to the regressions directory but a simple script (like the one above) is most likely to be needed.
2. The commits in this repository make up a much smaller list than for MOM6-cases because regression answers do not change often.
3. The _labels_.json file is not mandatory but could have sufficient information in it for automated systems to interpret.

### To create a similar repository for a new platform
```bash
git init
git add labels.json
git add README.md

git clone git@github.com:NCAR/MOM6-cases
git submodule init
git submodule add ./MOM6-cases
git add regressions
git commit -m 'First regression answers on this platform'
```
